---------------------------------------------
PIC ASSEMBLER LISTING
Line    Address Opcode  Instruction
---------------------------------------------
0001    0000            Contador EQU 0X21
0002    0000            DatoEnC  EQU 0x22
0003    0000            INICIO
0004    0000            	ORG 0X00
0005    0000    2801    	GOTO START
0006    0001            START
0007    0001            ;CONFIGURACION DEL BOTON EN EL BIT 5 EN EL PUERTO C
0008    0001    1683    	BSF STATUS, 5 ;PONE 1 EN STATUS BIT 5 PARA MOVERNOS AL BANCO 1
0009    0002    0186    	CLRF TRISB; PONE EN 0 TRIS B Y LA BANDERA Z
0010    0003    0188    	CLRF TRISD
0011    0004    3020    	MOVLW B'00100000' ; LA ENTRADA 5 EN PUERTO C HABILITADA
0012    0005    0087    	MOVWF TRISC; HABILITAMOS EL BIT 5 EN C 
0013    0006    0100    	CLRW; LIMPIAR W 
0014    0007    1283    	BCF STATUS, 5; PONE UN 0 EN BIT 5 Y NOS MOVEMOS AL BANCO 0 
0015    0008    3000    	MOVLW b'00000000'
0016    0009    00A1    	MOVWF Contador
0017    000A    280B    	GOTO LEERC
0018    000B            
0019    000B            LEERC;LEEMOS PUERTO C
0020    000B    0807    	MOVF PORTC, W ; MOVEMOS LA ENTRADA DEL PUERTO C HACIA W 
0021    000C    00A2    	MOVWF DatoEnC ; movemos la variable hacia dato en c
0022    000D    3020    	MOVLW B'00100000' ;MOVEMOS A W EL 5 BIT  
0023    000E    0222    	SUBWF DatoEnC,W ;VA A RESTARLE AL DATO LO QUE ESTA EN W
0024    000F    1903    	BTFSC STATUS, Z ; VERIFICA QUE EL STATUS DE LA OPERACION SEA 0 
0025    0010    2812    	GOTO  CONTAR ; SI LA OPERACION ES 0 SE VA A UN CONTAR
0026    0011    280B    	GOTO  LEERC ;REGRESA LOOP LEER
0027    0012            CONTAR
0028    0012    0A21    	INCF  Contador, 0 ;incrementa e contador en 1
0029    0013    00A1    	MOVWF Contador
0030    0014    3001    	MOVLW b'00000001'
0031    0015    0221    	SUBWF Contador,W
0032    0016    1903    	BTFSC STATUS, Z
0033    0017    2824    	GOTO  MOSTRAR1
0034    0018            
0035    0018    3002    	MOVLW b'00000010'
0036    0019    0221    	SUBWF Contador,W
0037    001A    1903    	BTFSC STATUS, Z
0038    001B    2827    	GOTO  MOSTRAR2
0039    001C            
0040    001C    3003    	MOVLW b'00000011'
0041    001D    0221    	SUBWF Contador,W
0042    001E    1903    	BTFSC STATUS, Z
0043    001F    282A    	GOTO  MOSTRAR3
0044    0020            
0045    0020    3004    	MOVLW b'00000100'
0046    0021    0221    	SUBWF Contador, 0
0047    0022    1903    	BTFSC STATUS, Z
0048    0023    282D    	GOTO  MOSTRAR4
0049    0024            
0050    0024            MOSTRAR1
0051    0024            ;Al iniciar, mostrar cuánto es el índice de luz (escala definida por el grupo)
0052    0024    3001    	MOVLW B'00000001'
0053    0025    0088    	MOVWF PORTD
0054    0026    280B    	GOTO  LEERC
0055    0027            	;Mostrar el primer inciso
0056    0027            MOSTRAR2
0057    0027            ;Al presionar la tecla cambiará y deberá mostrar el número del dispositivo con la mayor
0058    0027            ;cantidad de luz.
0059    0027    3002    	MOVLW B'00000010'
0060    0028    0088    	MOVWF PORTD
0061    0029    280B    	GOTO  LEERC
0062    002A            	;Mostrar el segundo inciso
0063    002A            MOSTRAR3
0064    002A            ;Al presionar la tecla cambiará y deberá mostrar el número del dispositivo con la menor
0065    002A            ;cantidad de luz.
0066    002A    3004    	MOVLW B'00000100'
0067    002B    0088    	MOVWF PORTD
0068    002C    280B    	GOTO  LEERC
0069    002D            	;Mostrar el tercer inciso
0070    002D            MOSTRAR4
0071    002D            ;Al presionar la tecla cambiará y mostrará cuál es su número de dispositivo
0072    002D    3008    	MOVLW B'00001000'
0073    002E    0088    	MOVWF PORTD
0074    002F            	;Mostrar el quinto inciso
0075    002F    3000    	MOVLW B'00000000' 
0076    0030    00A1    	MOVWF Contador ;resetea el contador para empezar de nuevo
0077    0031    280B    	GOTO  LEERC
0078    0032            	;Mostrar el cuarto inciso
---------------------------------------------
Number of errors = 0
