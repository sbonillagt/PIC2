---------------------------------------------
PIC ASSEMBLER LISTING
Line    Address Opcode  Instruction
---------------------------------------------
0001    0000            Contador EQU 0X21
0002    0000            DatoEnD  EQU 0x22
0003    0000            INICIO
0004    0000            	ORG 0X00
0005    0000    2801    	GOTO START
0006    0001            START
0007    0001            ;CONFIGURACION DEL BOTON EN EL BIT 5 EN EL PUERTO C
0008    0001    1683    	BSF STATUS, 5 ;PONE 1 EN STATUS BIT 5 PARA MOVERNOS AL BANCO 1
0009    0002    0186    	CLRF TRISB; PONE EN 0 TRIS B Y LA BANDERA Z
0010    0003            	;CLRF TRISD; PONE EN 0 TRIS B Y LA BANDERA Z
0011    0003    3020    	MOVLW B'00100000' ; LA ENTRADA 5 EN PUERTO C HABILITADA
0012    0004    0088    	MOVWF TRISD; HABILITAMOS EL BIT 5 EN C 
0013    0005            	;MOVLW B'001'
0014    0005            	;MOVWF TRISE
0015    0005    0100    	CLRW; LIMPIAR W 
0016    0006    1283    	BCF STATUS, 5; PONE UN 0 EN BIT 5 Y NOS MOVEMOS AL BANCO 0 
0017    0007    3000    	MOVLW b'00000000'
0018    0008    00A1    	MOVWF Contador
0019    0009            
0020    0009            
0021    0009    1683    	BSF     STATUS,RP0
0022    000A    1303        	BCF     STATUS,RP1
0023    000B    300E        	MOVLW   D'14'
0024    000C    009F        	MOVWF   ADCON1
0025    000D    3007    	MOVLW	B'111'
0026    000E    0089        	MOVWF   TRISE
0027    000F    1283        	BCF     STATUS,RP0
0028    0010    1303        	BCF     STATUS,RP1
0029    0011            
0030    0011            
0031    0011    2812    	GOTO LEERD
0032    0012            
0033    0012            LEERD;LEEMOS PUERTO C
0034    0012    0809    	MOVF PORTE, W ; MOVEMOS LA ENTRADA DEL PUERTO C HACIA W 
0035    0013    00A2    	MOVWF DatoEnD ; movemos la variable hacia dato en c
0036    0014    3001    	MOVLW B'00000001' ;MOVEMOS A W EL 5 BIT  
0037    0015    0222    	SUBWF DatoEnD,W ;VA A RESTARLE AL DATO LO QUE ESTA EN W
0038    0016    1903    	BTFSC STATUS, Z ; VERIFICA QUE EL STATUS DE LA OPERACION SEA 0 
0039    0017    2819    	GOTO  CONTAR ; SI LA OPERACION ES 0 SE VA A UN CONTAR
0040    0018    2812    	GOTO  LEERD ;REGRESA LOOP LEER
0041    0019            CONTAR
0042    0019    0A21    	INCF  Contador, 0 ;incrementa e contador en 1
0043    001A    00A1    	MOVWF Contador
0044    001B    3001    	MOVLW b'00000001'
0045    001C    0221    	SUBWF Contador,W
0046    001D    1903    	BTFSC STATUS, Z
0047    001E    282B    	GOTO  MOSTRAR1
0048    001F            
0049    001F    3002    	MOVLW b'00000010'
0050    0020    0221    	SUBWF Contador,W
0051    0021    1903    	BTFSC STATUS, Z
0052    0022    282E    	GOTO  MOSTRAR2
0053    0023            
0054    0023    3003    	MOVLW b'00000011'
0055    0024    0221    	SUBWF Contador,W
0056    0025    1903    	BTFSC STATUS, Z
0057    0026    2831    	GOTO  MOSTRAR3
0058    0027            
0059    0027    3004    	MOVLW b'00000100'
0060    0028    0221    	SUBWF Contador, 0
0061    0029    1903    	BTFSC STATUS, Z
0062    002A    2834    	GOTO  MOSTRAR4
0063    002B            
0064    002B            MOSTRAR1
0065    002B            ;Al iniciar, mostrar cu�nto es el �ndice de luz (escala definida por el grupo)
0066    002B    3001    	MOVLW B'00000001'
0067    002C    0086    	MOVWF PORTB
0068    002D    2812    	GOTO  LEERD
0069    002E            	;Mostrar el primer inciso
0070    002E            MOSTRAR2
0071    002E            ;Al presionar la tecla cambiar� y deber� mostrar el n�mero del dispositivo con la mayor
0072    002E            ;cantidad de luz.
0073    002E    3002    	MOVLW B'00000010'
0074    002F    0086    	MOVWF PORTB
0075    0030    2812    	GOTO  LEERD
0076    0031            	;Mostrar el segundo inciso
0077    0031            MOSTRAR3
0078    0031            ;Al presionar la tecla cambiar� y deber� mostrar el n�mero del dispositivo con la menor
0079    0031            ;cantidad de luz.
0080    0031    3004    	MOVLW B'00000100'
0081    0032    0086    	MOVWF PORTB
0082    0033    2812    	GOTO  LEERD
0083    0034            	;Mostrar el tercer inciso
0084    0034            MOSTRAR4
0085    0034            ;Al presionar la tecla cambiar� y mostrar� cu�l es su n�mero de dispositivo
0086    0034    3008    	MOVLW B'00001000'
0087    0035    0086    	MOVWF PORTB
0088    0036            	;Mostrar el quinto inciso
0089    0036    3000    	MOVLW B'00000000' 
0090    0037    00A1    	MOVWF Contador ;resetea el contador para empezar de nuevo
0091    0038    2812    	GOTO  LEERD
0092    0039            	;Mostrar el cuarto inciso
---------------------------------------------
Number of errors = 0
